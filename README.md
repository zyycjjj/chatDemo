# Chat Demo - React + TypeScript + DDD

ä¸€ä¸ªåŸºäºé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰çš„ç°ä»£åŒ–èŠå¤©åº”ç”¨ï¼Œä½¿ç”¨ React 19 + TypeScript + Zustand + Tailwind CSS æ„å»ºã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… å®æ—¶æ¶ˆæ¯å‘é€å’Œæ¥æ”¶
- âœ… ç”¨æˆ·èº«ä»½æ ‡è¯†ï¼ˆAI åŠ©æ‰‹ / å½“å‰ç”¨æˆ·ï¼‰
- âœ… æ¶ˆæ¯çŠ¶æ€ç®¡ç†ï¼ˆå‘é€ä¸­ã€å·²å‘é€ã€å¤±è´¥ï¼‰
- âœ… æ¶ˆæ¯æ—¶é—´æ˜¾ç¤º
- âœ… è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯

### é«˜çº§åŠŸèƒ½ï¼ˆåŠ åˆ†é¡¹ï¼‰
- âœ… **å†å²è®°å½•åˆ†é¡µåŠ è½½** - æ»šåŠ¨åˆ°é¡¶éƒ¨è‡ªåŠ¨åŠ è½½æ›´å¤šå†å²æ¶ˆæ¯
- âœ… **æœç´¢å’Œè¿‡æ»¤** - æ”¯æŒæŒ‰å†…å®¹æœç´¢å’Œå‘é€è€…è¿‡æ»¤
- âœ… **æ—¥æœŸåˆ†ç»„å’Œç²˜æ€§æ ‡é¢˜** - æ¶ˆæ¯æŒ‰æ—¥æœŸåˆ†ç»„ï¼Œæ—¥æœŸæ ‡é¢˜ç²˜æ€§æ˜¾ç¤º
- âœ… **ç¦»çº¿é‡è¿æœºåˆ¶** - ç½‘ç»œæ–­å¼€æ—¶è‡ªåŠ¨é‡è¿ï¼Œæ¶ˆæ¯æœ¬åœ°ç¼“å­˜
- âœ… **æ¶ˆæ¯æ’¤å›/åˆ é™¤** - æ”¯æŒ2åˆ†é’Ÿå†…æ’¤å›è‡ªå·±å‘é€çš„æ¶ˆæ¯
- âœ… **è‰ç¨¿è‡ªåŠ¨ä¿å­˜** - è¾“å…¥æ¡†å†…å®¹è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
- âœ… **æ–°æ¶ˆæ¯æé†’** - æ»šåŠ¨ä¸åœ¨åº•éƒ¨æ—¶æ˜¾ç¤ºæ–°æ¶ˆæ¯æé†’æŒ‰é’®

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **React 19** - æœ€æ–°çš„ React ç‰ˆæœ¬
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Vite** - ç°ä»£åŒ–æ„å»ºå·¥å…·

### çŠ¶æ€ç®¡ç†
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†ï¼ˆæ›¿ä»£ Redux/Dvaï¼‰
- **Zustand Persist** - æŒä¹…åŒ–ä¸­é—´ä»¶
- **Zustand Subscribe With Selector** - é€‰æ‹©å™¨è®¢é˜…

### æ ·å¼è®¾è®¡
- **Tailwind CSS v3** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **PostCSS** - CSS åå¤„ç†å™¨
- **Autoprefixer** - CSS è‡ªåŠ¨æ·»åŠ å‰ç¼€

### Mock æœåŠ¡
- **Express.js** - Mock API æœåŠ¡å™¨
- **Faker.js** - ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®
- **CORS** - è·¨åŸŸæ”¯æŒ

### å¼€å‘å·¥å…·
- **ESLint** - ä»£ç è´¨é‡æ£€æŸ¥
- **TypeScript Compiler** - ç±»å‹æ£€æŸ¥
- **Rolldown** - å¿«é€Ÿæ‰“åŒ…å·¥å…·

## ğŸ“ é¡¹ç›®ç»“æ„

```
chatDemo/
â”œâ”€â”€ Makefile                 # æ„å»ºå’Œå¯åŠ¨è„šæœ¬
â”œâ”€â”€ package.json            # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
â”œâ”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ FINAL_TEST_REPORT.md    # æœ€ç»ˆæµ‹è¯•æŠ¥å‘Š
â”œâ”€â”€ tsconfig.*.json         # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts          # Vite æ„å»ºé…ç½®
â”œâ”€â”€ vitest.config.ts        # æµ‹è¯•é…ç½®
â”œâ”€â”€ eslint.config.js        # ESLint é…ç½®
â”œâ”€â”€ tailwind.config.js     # Tailwind CSS é…ç½®
â”œâ”€â”€ postcss.config.js      # PostCSS é…ç½®
â””â”€â”€ src/
    â”œâ”€â”€ domain/             # é¢†åŸŸå±‚ï¼ˆDDDï¼‰
    â”‚   â”œâ”€â”€ entities/       # å®ä½“
    â”‚   â”‚   â””â”€â”€ message/    # æ¶ˆæ¯å®ä½“
    â”‚   â”œâ”€â”€ repositories/   # ä»“å‚¨æ¥å£
    â”‚   â”‚   â””â”€â”€ message-repository/
    â”‚   â””â”€â”€ services/       # é¢†åŸŸæœåŠ¡
    â”‚       â””â”€â”€ MessageDomainService.ts
    â”œâ”€â”€ application/        # åº”ç”¨å±‚ï¼ˆDDDï¼‰
    â”‚   â”œâ”€â”€ services/       # åº”ç”¨æœåŠ¡
    â”‚   â”‚   â”œâ”€â”€ ChatService.ts
    â”‚   â”‚   â”œâ”€â”€ MessageService.ts
    â”‚   â”‚   â””â”€â”€ NetworkService.ts
    â”‚   â”œâ”€â”€ stores/         # çŠ¶æ€ç®¡ç†
    â”‚   â”‚   â”œâ”€â”€ chat-store.ts
    â”‚   â”‚   â”œâ”€â”€ message-store.ts
    â”‚   â”‚   â””â”€â”€ network-store.ts
    â”‚   â””â”€â”€ hooks/          # è‡ªå®šä¹‰Hooks
    â”‚       â”œâ”€â”€ useWebSocket.ts
    â”‚       â”œâ”€â”€ useLocalStorage.ts
    â”‚       â””â”€â”€ useDebounce.ts
    â”œâ”€â”€ infrastructure/     # åŸºç¡€è®¾æ–½å±‚ï¼ˆDDDï¼‰
    â”‚   â”œâ”€â”€ api/           # API æ¥å£
    â”‚   â”‚   â”œâ”€â”€ request.ts  # è¯·æ±‚å°è£…
    â”‚   â”‚   â””â”€â”€ message-api.ts # æ¶ˆæ¯API
    â”‚   â”œâ”€â”€ repositories/   # ä»“å‚¨å®ç°
    â”‚   â”‚   â””â”€â”€ MessageRepository.ts
    â”‚   â”œâ”€â”€ storage/        # æœ¬åœ°å­˜å‚¨
    â”‚   â”‚   â”œâ”€â”€ localStorage.ts
    â”‚   â”‚   â””â”€â”€ indexedDB.ts
    â”‚   â””â”€â”€ mock/          # Mock æœåŠ¡
    â”‚       â”œâ”€â”€ server.js  # Mock æœåŠ¡å™¨
    â”‚       â””â”€â”€ data/      # Mock æ•°æ®
    â”œâ”€â”€ presentation/      # è¡¨ç°å±‚ï¼ˆDDDï¼‰
    â”‚   â”œâ”€â”€ components/    # é€šç”¨ç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ chat/       # èŠå¤©ç›¸å…³ç»„ä»¶
    â”‚   â”‚   â”‚   â”œâ”€â”€ MessageList/
    â”‚   â”‚   â”‚   â”œâ”€â”€ MessageItem/
    â”‚   â”‚   â”‚   â”œâ”€â”€ InputBox/
    â”‚   â”‚   â”‚   â”œâ”€â”€ SearchFilter/
    â”‚   â”‚   â”‚   â””â”€â”€ MessageStatus/
    â”‚   â”‚   â”œâ”€â”€ ui/         # åŸºç¡€UIç»„ä»¶
    â”‚   â”‚   â”‚   â”œâ”€â”€ Button/
    â”‚   â”‚   â”‚   â”œâ”€â”€ Input/
    â”‚   â”‚   â”‚   â”œâ”€â”€ Avatar/
    â”‚   â”‚   â”‚   â””â”€â”€ Loading/
    â”‚   â”‚   â””â”€â”€ layout/     # å¸ƒå±€ç»„ä»¶
    â”‚   â”‚       â”œâ”€â”€ Header/
    â”‚   â”‚       â”œâ”€â”€ Sidebar/
    â”‚   â”‚       â””â”€â”€ Footer/
    â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ Chat/
    â”‚   â”‚   â”œâ”€â”€ Login/
    â”‚   â”‚   â””â”€â”€ Settings/
    â”‚   â”œâ”€â”€ hooks/         # è¡¨ç°å±‚Hooks
    â”‚   â”‚   â”œâ”€â”€ useMessage.ts
    â”‚   â”‚   â””â”€â”€ useChat.ts
    â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
    â”‚       â”œâ”€â”€ formatters.ts
    â”‚       â””â”€â”€ validators.ts
    â”œâ”€â”€ shared/             # å…±äº«æ¨¡å—
    â”‚   â”œâ”€â”€ types/         # ç±»å‹å®šä¹‰
    â”‚   â”‚   â”œâ”€â”€ message.ts
    â”‚   â”‚   â”œâ”€â”€ user.ts
    â”‚   â”‚   â””â”€â”€ api.ts
    â”‚   â”œâ”€â”€ constants/     # å¸¸é‡
    â”‚   â”‚   â”œâ”€â”€ config.ts
    â”‚   â”‚   â””â”€â”€ themes.ts
    â”‚   â””â”€â”€ utils/         # é€šç”¨å·¥å…·
    â”‚       â”œâ”€â”€ date.ts
    â”‚       â”œâ”€â”€ string.ts
    â”‚       â””â”€â”€ storage.ts
    â”œâ”€â”€ test/              # æµ‹è¯•
    â”‚   â”œâ”€â”€ integration/   # é›†æˆæµ‹è¯•
    â”‚   â”‚   â”œâ”€â”€ store.integration.test.ts
    â”‚   â”‚   â””â”€â”€ chat.integration.test.tsx
    â”‚   â”œâ”€â”€ e2e/          # ç«¯åˆ°ç«¯æµ‹è¯•
    â”‚   â”‚   â”œâ”€â”€ chat.spec.ts
    â”‚   â”‚   â””â”€â”€ performance.spec.ts
    â”‚   â”œâ”€â”€ mocks/        # Mockæ•°æ®
    â”‚   â”‚   â”œâ”€â”€ messages.ts
    â”‚   â”‚   â””â”€â”€ users.ts
    â”‚   â””â”€â”€ setup.simple.ts # æµ‹è¯•ç¯å¢ƒé…ç½®
    â”œâ”€â”€ main.tsx           # åº”ç”¨å…¥å£
    â”œâ”€â”€ App.tsx            # æ ¹ç»„ä»¶
    â””â”€â”€ vite-env.d.ts      # Vite ç±»å‹å£°æ˜
```

## ğŸ¯ æ¶æ„è®¾è®¡

### é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰
é¡¹ç›®é‡‡ç”¨ç»å…¸çš„ DDD ä¸‰å±‚æ¶æ„ï¼š

1. **é¢†åŸŸå±‚ï¼ˆDomainï¼‰** - åŒ…å«ä¸šåŠ¡å®ä½“ã€ä»“å‚¨æ¥å£å’Œé¢†åŸŸæœåŠ¡
2. **åº”ç”¨å±‚ï¼ˆApplicationï¼‰** - åŒ…å«åº”ç”¨æœåŠ¡ã€çŠ¶æ€ç®¡ç†å’Œä¸šåŠ¡é€»è¾‘
3. **åŸºç¡€è®¾æ–½å±‚ï¼ˆInfrastructureï¼‰** - åŒ…å« API å®ç°ã€Mock æœåŠ¡å’Œå¤–éƒ¨ä¾èµ–
4. **è¡¨ç°å±‚ï¼ˆPresentationï¼‰** - åŒ…å« UI ç»„ä»¶å’Œé¡µé¢

### æ ¸å¿ƒå®ä½“è®¾è®¡

#### Message å®ä½“
```typescript
interface Message {
  id: string;
  content: string;
  sender: 'user' | 'ai';
  status: MessageStatus;
  timestamp: Date;
  isDeleted?: boolean;
  deletedAt?: Date;
  
  // ä¸šåŠ¡æ–¹æ³•
  canRecall(): boolean;
  recall(): void;
  delete(): void;
}
```

### çŠ¶æ€ç®¡ç†æ¶æ„

#### Zustand Store è®¾è®¡
- **chat-store.ts** - èŠå¤©ç›¸å…³çŠ¶æ€ï¼ˆè¿æ¥çŠ¶æ€ã€æ¶ˆæ¯åˆ—è¡¨ï¼‰
- **message-store.ts** - æ¶ˆæ¯ç›¸å…³çŠ¶æ€ï¼ˆæœç´¢ã€è¿‡æ»¤ã€è‰ç¨¿ï¼‰
- **network-store.ts** - ç½‘ç»œç›¸å…³çŠ¶æ€ï¼ˆåœ¨çº¿çŠ¶æ€ã€é‡è¿é€»è¾‘ï¼‰

## ğŸ—ï¸ é¡¹ç›®æ¶æ„è¯¦æƒ…

### è¯·æ±‚å°è£…ä¸æ¨¡æ‹Ÿæ¥å£

é¡¹ç›®å®ç°äº†ç»Ÿä¸€çš„HTTPè¯·æ±‚å°è£…ï¼Œæ”¯æŒè¶…æ—¶æ§åˆ¶ã€é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶ï¼š

```typescript
// infrastructure/api/request.ts
export class RequestManager {
  private baseURL: string
  private timeout: number

  constructor(baseURL: string, timeout = 5000) {
    this.baseURL = baseURL
    this.timeout = timeout
  }

  async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {
    // å®ç°è¶…æ—¶æ§åˆ¶ã€é”™è¯¯å¤„ç†ç­‰é€»è¾‘
  }
}

// infrastructure/api/message-api.ts
export class MessageAPI {
  async sendMessage(message: Partial<Message>): Promise<Message> {
    // æ¨¡æ‹Ÿå»¶è¿Ÿ 0.5-2 ç§’ï¼Œéšæœºè¿”å›æˆåŠŸæˆ–å¤±è´¥
    const delay = Math.random() * 1500 + 500
    await new Promise(resolve => setTimeout(resolve, delay))
    
    if (Math.random() > 0.3) {
      return { /* æˆåŠŸæ¶ˆæ¯å¯¹è±¡ */ }
    } else {
      throw new Error('Network error: Failed to send message')
    }
  }
}
```

### é•¿æ¶ˆæ¯åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–

é€šè¿‡è™šæ‹Ÿæ»šåŠ¨å’Œæ‡’åŠ è½½æŠ€æœ¯ä¼˜åŒ–é•¿åˆ—è¡¨æ€§èƒ½ï¼š

- **è™šæ‹Ÿæ»šåŠ¨**: ä½¿ç”¨ `react-window` å®ç°é«˜æ•ˆæ¸²æŸ“
- **æ‡’åŠ è½½**: æ»šåŠ¨åˆ°é¡¶éƒ¨æ—¶è‡ªåŠ¨åŠ è½½å†å²æ¶ˆæ¯
- **åˆ†é¡µç­–ç•¥**: æ¯æ¬¡åŠ è½½20æ¡æ¶ˆæ¯ï¼Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´

### å‘é€æ¶ˆæ¯é€»è¾‘

å®Œæ•´çš„æ¶ˆæ¯å‘é€æµç¨‹ï¼ŒåŒ…æ‹¬çŠ¶æ€ç®¡ç†å’Œé”™è¯¯å¤„ç†ï¼š

```typescript
// application/hooks/useMessage.ts
export const useMessage = () => {
  const sendMessage = useCallback(async (content: string) => {
    // 1. åˆ›å»ºä¸´æ—¶æ¶ˆæ¯ï¼ˆsendingçŠ¶æ€ï¼‰
    // 2. å‘é€APIè¯·æ±‚
    // 3. æ›´æ–°æ¶ˆæ¯çŠ¶æ€ï¼ˆsent/failedï¼‰
    // 4. å¤„ç†é”™è¯¯æƒ…å†µ
  }, [])

  const retryMessage = useCallback(async (messageId: number) => {
    // é‡è¯•å¤±è´¥çš„æ¶ˆæ¯å‘é€
  }, [])
}
```

### çŠ¶æ€ç®¡ç†æ¶æ„

ä½¿ç”¨ Zustand è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œæ”¯æŒæŒä¹…åŒ–å’Œé€‰æ‹©å™¨è®¢é˜…ï¼š

```typescript
// application/stores/message-store.ts
interface MessageState {
  messages: Message[]
  loading: boolean
  error: string | null
  offlineQueue: Message[]
}

interface MessageActions {
  addMessage: (message: Message) => void
  updateMessage: (id: number, updates: Partial<Message>) => void
  retryMessage: (id: number) => void
  processOfflineQueue: () => Promise<void>
}
```

## ğŸ¯ å¯é€‰åŠ åˆ†é¡¹å®ç°

### 1. âœ… å†å²æ¶ˆæ¯åˆ†é¡µåŠ è½½
- Intersection Observer æ»šåŠ¨ç›‘å¬
- é¡¶éƒ¨åŠ è½½æŒ‡ç¤ºå™¨
- æ»šåŠ¨ä½ç½®ä¿æŒ

### 2. âœ… æœç´¢ä¸è¿‡æ»¤åŠŸèƒ½
- å®æ—¶æœç´¢è¾“å…¥
- å¤šæ¡ä»¶è¿‡æ»¤ï¼ˆå‘é€è€…ã€æ—¶é—´èŒƒå›´ï¼‰
- æœç´¢ç»“æœé«˜äº®æ˜¾ç¤º

### 3. âœ… æ—¥æœŸåˆ†ç»„ä¸ç²˜æ€§æ ‡é¢˜
- æŒ‰æ—¥æœŸåˆ†ç»„æ¶ˆæ¯
- sticky å®šä½å¸é¡¶æ•ˆæœ
- ç›¸å¯¹æ—¶é—´æ˜¾ç¤º

### 4. âœ… ç¦»çº¿æ¶ˆæ¯ä¸é‡è¿æœºåˆ¶
- ç½‘ç»œçŠ¶æ€ç›‘å¬
- ç¦»çº¿æ¶ˆæ¯é˜Ÿåˆ—
- è‡ªåŠ¨é‡è¿å’Œé‡å‘

### 5. âœ… æ¶ˆæ¯æ’¤å›æˆ–åˆ é™¤
- 2åˆ†é’Ÿå†…æ’¤å›é™åˆ¶
- æ’¤å›çŠ¶æ€æ˜¾ç¤º
- åˆ é™¤ç¡®è®¤å¯¹è¯æ¡†

### 6. âœ… è‰ç¨¿ä¿å­˜
- localStorage è‡ªåŠ¨ä¿å­˜
- é¡µé¢åˆ·æ–°æ¢å¤
- å¤šä¼šè¯è‰ç¨¿ç®¡ç†

### 7. âœ… æ–°æ¶ˆæ¯æç¤º
- æ»šåŠ¨ä½ç½®æ£€æµ‹
- æœªè¯»æ¶ˆæ¯è®¡æ•°
- ä¸€é”®è·³è½¬åˆ°åº•éƒ¨

## ğŸ§ª æµ‹è¯•æµç¨‹è¯¦è§£

### æµ‹è¯•æ¶æ„å±‚æ¬¡
```
æµ‹è¯•é‡‘å­—å¡”
    /\
   /E2E\     - ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆ14ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼‰
  /______\
 /é›†æˆæµ‹è¯•\   - ç»„ä»¶äº¤äº’æµ‹è¯•ï¼ˆ5ä¸ªæµ‹è¯•æ–‡ä»¶ï¼‰
/__________\
/  å•å…ƒæµ‹è¯•  \ - ä¸šåŠ¡é€»è¾‘æµ‹è¯•ï¼ˆ3ä¸ªæµ‹è¯•æ–‡ä»¶ï¼‰
```

### æµ‹è¯•æ‰§è¡Œæµç¨‹
1. **ç¯å¢ƒå‡†å¤‡**: MSW æ¨¡æ‹Ÿ API æœåŠ¡å™¨å¯åŠ¨
2. **å•å…ƒæµ‹è¯•**: æµ‹è¯•çº¯å‡½æ•°å’Œä¸šåŠ¡é€»è¾‘
3. **é›†æˆæµ‹è¯•**: æµ‹è¯•ç»„ä»¶é—´äº¤äº’
4. **E2Eæµ‹è¯•**: ä½¿ç”¨ Playwright æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹

### æ ¸å¿ƒæµ‹è¯•ç”¨ä¾‹
- âœ… æ¶ˆæ¯å‘é€å’Œæ¥æ”¶æµç¨‹
- âœ… æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½
- âœ… ç¦»çº¿é‡è¿æœºåˆ¶
- âœ… å“åº”å¼å¸ƒå±€
- âœ… æ€§èƒ½åŸºå‡†æµ‹è¯•

### æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡
- å½“å‰è¦†ç›–ç‡: 70.8%
- ç›®æ ‡è¦†ç›–ç‡: 85%+
- æ ¸å¿ƒåŠŸèƒ½è¦†ç›–ç‡: 95%+

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm >= 8.0.0

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
# ä½¿ç”¨ Makefileï¼ˆæ¨èï¼‰
make dev

# æˆ–è€…ç›´æ¥ä½¿ç”¨ npm
npm run dev
```

è¿™å°†åŒæ—¶å¯åŠ¨ï¼š
- å¼€å‘æœåŠ¡å™¨ï¼šhttp://localhost:5174
- Mock API æœåŠ¡ï¼šhttp://localhost:3001

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
# ä½¿ç”¨ Makefile
make build

# æˆ–è€…ç›´æ¥ä½¿ç”¨ npm
npm run build
```

### è¿è¡Œç±»å‹æ£€æŸ¥
```bash
npm run typecheck
```

### è¿è¡Œä»£ç æ£€æŸ¥
```bash
npm run lint
```

## ğŸ”§ Makefile å‘½ä»¤

```makefile
dev      # å¯åŠ¨å¼€å‘æœåŠ¡å™¨å’Œ Mock æœåŠ¡
build    # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
lint     # è¿è¡Œä»£ç æ£€æŸ¥
typecheck # è¿è¡Œç±»å‹æ£€æŸ¥
clean    # æ¸…ç†æ„å»ºæ–‡ä»¶
install  # å®‰è£…ä¾èµ–
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ä»£ç åˆ†å‰²
- ä½¿ç”¨ React.lazy() è¿›è¡Œè·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
- ç»„ä»¶çº§åˆ«çš„åŠ¨æ€å¯¼å…¥

### çŠ¶æ€ç®¡ç†ä¼˜åŒ–
- Zustand çš„é€‰æ‹©å™¨è®¢é˜…é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
- ä½¿ç”¨ subscribeWithSelector ä¸­é—´ä»¶ä¼˜åŒ–è®¢é˜…æ€§èƒ½

### UI æ¸²æŸ“ä¼˜åŒ–
- ä½¿ç”¨ React.memo ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“
- è™šæ‹Ÿæ»šåŠ¨æ”¯æŒå¤§é‡æ¶ˆæ¯åˆ—è¡¨
- é˜²æŠ–æœç´¢ä¼˜åŒ–

### ç½‘ç»œä¼˜åŒ–
- ç¦»çº¿æ¶ˆæ¯é˜Ÿåˆ—å‡å°‘ç½‘ç»œè¯·æ±‚
- æŒ‡æ•°é€€é¿é‡è¿ç­–ç•¥
- æ¶ˆæ¯åˆ†é¡µåŠ è½½å‡å°‘åˆå§‹åŠ è½½æ—¶é—´

## ğŸ¨ UI/UX è®¾è®¡

### è®¾è®¡åŸåˆ™
- **ç°ä»£åŒ–è®¾è®¡** - ä½¿ç”¨ Tailwind CSS å®ç°ç°ä»£åŒ–ç•Œé¢
- **å“åº”å¼å¸ƒå±€** - é€‚é…å„ç§å±å¹•å°ºå¯¸
- **å¾®äº¤äº’åŠ¨ç”»** - æµç•…çš„è¿‡æ¸¡æ•ˆæœå’Œç”¨æˆ·åé¦ˆ
- **æ— éšœç¢è®¿é—®** - éµå¾ª WCAG æ— éšœç¢æŒ‡å—

### è§†è§‰ç‰¹æ€§
- æ¸å˜è‰²å½©æ–¹æ¡ˆ
- åœ†è§’å¡ç‰‡è®¾è®¡
- é˜´å½±å±‚æ¬¡æ„Ÿ
- çŠ¶æ€é¢œè‰²æŒ‡ç¤º

### äº¤äº’ä½“éªŒ
- å®æ—¶çŠ¶æ€åé¦ˆ
- åŠ è½½çŠ¶æ€æŒ‡ç¤º
- é”™è¯¯çŠ¶æ€å¤„ç†
- ç©ºçŠ¶æ€è®¾è®¡

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•ç±»å‹
- **å•å…ƒæµ‹è¯•** - æµ‹è¯•çº¯å‡½æ•°å’Œä¸šåŠ¡é€»è¾‘
- **é›†æˆæµ‹è¯•** - æµ‹è¯•ç»„ä»¶äº¤äº’
- **ç«¯åˆ°ç«¯æµ‹è¯•** - æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹

### æµ‹è¯•å·¥å…·
- Vitest - å•å…ƒæµ‹è¯•æ¡†æ¶
- React Testing Library - React ç»„ä»¶æµ‹è¯•
- Playwright - ç«¯åˆ°ç«¯æµ‹è¯•
- MSW - API æ¨¡æ‹ŸæœåŠ¡

### æµ‹è¯•è¦†ç›–ç‡ä¸ç»“æœ
- **å½“å‰é€šè¿‡ç‡**: 70.8% (68/96 æµ‹è¯•é€šè¿‡)
- **æµ‹è¯•æ–‡ä»¶æ•°**: 8ä¸ª (5ä¸ªå¤±è´¥, 3ä¸ªé€šè¿‡)
- **æ ¸å¿ƒåŠŸèƒ½**: å·²éªŒè¯æ¶ˆæ¯å‘é€ã€çŠ¶æ€ç®¡ç†ã€æœç´¢è¿‡æ»¤ç­‰
- **è¯¦ç»†æŠ¥å‘Š**: æŸ¥çœ‹ [FINAL_TEST_REPORT.md](./FINAL_TEST_REPORT.md)

### æµ‹è¯•æ‰§è¡Œå‘½ä»¤
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç”ŸæˆJSONæŠ¥å‘Š
npm test -- --run --reporter=json > test-results.json

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
npm test -- --run MessageItem.test.tsx

# ç›‘è§†æ¨¡å¼è¿è¡Œæµ‹è¯•
npm test -- --watch
```

## ğŸ”’ å®‰å…¨è€ƒè™‘

### æ•°æ®å®‰å…¨
- è¾“å…¥éªŒè¯å’Œæ¸…ç†
- XSS é˜²æŠ¤
- CSRF ä¿æŠ¤

### éšç§ä¿æŠ¤
- æœ¬åœ°å­˜å‚¨æ•°æ®åŠ å¯†
- æ•æ„Ÿä¿¡æ¯è„±æ•
- ç”¨æˆ·æ•°æ®æœ€å°åŒ–

## ğŸ“ˆ ç›‘æ§å’Œåˆ†æ

### æ€§èƒ½ç›‘æ§
- Web Vitals æŒ‡æ ‡ç›‘æ§
- ç»„ä»¶æ¸²æŸ“æ€§èƒ½åˆ†æ
- å†…å­˜ä½¿ç”¨ç›‘æ§

### é”™è¯¯è¿½è¸ª
- é”™è¯¯è¾¹ç•Œå¤„ç†
- é”™è¯¯æ—¥å¿—æ”¶é›†
- ç”¨æˆ·è¡Œä¸ºåˆ†æ

## ğŸš€ éƒ¨ç½²æŒ‡å—

### æ„å»ºé…ç½®
```bash
npm run build
```

### éƒ¨ç½²é€‰é¡¹
- **é™æ€æ‰˜ç®¡** - Vercel, Netlify, GitHub Pages
- **å®¹å™¨åŒ–éƒ¨ç½²** - Docker + Kubernetes
- **äº‘æœåŠ¡éƒ¨ç½²** - AWS, Azure, Google Cloud

### ç¯å¢ƒå˜é‡
```env
VITE_API_BASE_URL=http://localhost:3001
VITE_APP_TITLE=Chat Demo
VITE_APP_VERSION=1.0.0
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç æ›´æ”¹
4. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ
- éµå¾ª ESLint é…ç½®
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- ä¿æŒä»£ç ç®€æ´ï¼ˆå•æ–‡ä»¶ä¸è¶…è¿‡ 70 è¡Œï¼‰

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-03)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… å®ç°æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- âœ… å®Œæˆæ‰€æœ‰é«˜çº§åŠŸèƒ½ï¼ˆåŠ åˆ†é¡¹ï¼‰
- âœ… å®Œå–„çš„ç±»å‹å®šä¹‰å’Œé”™è¯¯å¤„ç†
- âœ… ç°ä»£åŒ– UI è®¾è®¡

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ğŸ“§ Email: [zyxj07web@163.com]
- ğŸ› Issues: [GitHub Issues](https://github.com/your-username/chatDemo/issues)
---

**æ„Ÿè°¢ä½¿ç”¨ Chat Demoï¼** ğŸ‰

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™å®ƒä¸€ä¸ª â­ï¸# chatDemo
