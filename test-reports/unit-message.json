{"numTotalTestSuites":9,"numPassedTestSuites":1,"numFailedTestSuites":8,"numPendingTestSuites":0,"numTotalTests":16,"numPassedTests":4,"numFailedTests":12,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1767768536501,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Message Entity","create"],"fullName":"Message Entity create 应该创建有效的消息实体","status":"passed","title":"应该创建有效的消息实体","duration":0.9698750000000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["Message Entity","create"],"fullName":"Message Entity create 应该处理可选的updatedAt字段","status":"passed","title":"应该处理可选的updatedAt字段","duration":0.08608400000002803,"failureMessages":[],"meta":{}},{"ancestorTitles":["Message Entity","create"],"fullName":"Message Entity create 应该处理缺少updatedAt字段的情况","status":"passed","title":"应该处理缺少updatedAt字段的情况","duration":0.06204200000001947,"failureMessages":[],"meta":{}},{"ancestorTitles":["Message Entity","updateStatus"],"fullName":"Message Entity updateStatus 应该更新消息状态","status":"failed","title":"应该更新消息状态","duration":1.7519169999999917,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'status')\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:48:29\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","updateStatus"],"fullName":"Message Entity updateStatus 应该更新状态为failed","status":"failed","title":"应该更新状态为failed","duration":0.20125000000001592,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'status')\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:58:29\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","updateContent"],"fullName":"Message Entity updateContent 应该更新消息内容","status":"failed","title":"应该更新消息内容","duration":0.12475000000000591,"failureMessages":["TypeError: message.updateContent is not a function\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:66:38\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","updateContent"],"fullName":"Message Entity updateContent 应该设置updatedAt为当前时间","status":"failed","title":"应该设置updatedAt为当前时间","duration":0.24570799999997917,"failureMessages":["TypeError: message.updateContent is not a function\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:77:38\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","toJSON"],"fullName":"Message Entity toJSON 应该序列化为JSON对象","status":"failed","title":"应该序列化为JSON对象","duration":0.13375000000002046,"failureMessages":["TypeError: message.toJSON is not a function\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:88:28\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","toJSON"],"fullName":"Message Entity toJSON 应该包含updatedAt字段","status":"failed","title":"应该包含updatedAt字段","duration":0.2941250000000082,"failureMessages":["TypeError: message.toJSON is not a function\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:108:28\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","fromJSON"],"fullName":"Message Entity fromJSON 应该从JSON对象创建消息","status":"failed","title":"应该从JSON对象创建消息","duration":0.1350840000000062,"failureMessages":["TypeError: __vite_ssr_import_1__.Message.fromJSON is not a function\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:125:31\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","fromJSON"],"fullName":"Message Entity fromJSON 应该处理updatedAt字段","status":"failed","title":"应该处理updatedAt字段","duration":0.10199999999997544,"failureMessages":["TypeError: __vite_ssr_import_1__.Message.fromJSON is not a function\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:146:31\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","equals"],"fullName":"Message Entity equals 应该识别相同的消息","status":"failed","title":"应该识别相同的消息","duration":0.148083999999983,"failureMessages":["TypeError: message1.equals is not a function\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:157:23\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","equals"],"fullName":"Message Entity equals 应该识别不同的消息","status":"failed","title":"应该识别不同的消息","duration":0.14870899999999665,"failureMessages":["TypeError: message1.equals is not a function\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:167:23\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///Users/yangzhang/Desktop/chatDemo/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["Message Entity","validation"],"fullName":"Message Entity validation 应该创建有效的消息实体","status":"passed","title":"应该创建有效的消息实体","duration":0.14774999999997362,"failureMessages":[],"meta":{}},{"ancestorTitles":["Message Entity","validation"],"fullName":"Message Entity validation 应该拒绝空内容的消息","status":"failed","title":"应该拒绝空内容的消息","duration":1.069332999999972,"failureMessages":["AssertionError: expected [Function] to throw an error\n    at Proxy.<anonymous> (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/expect/dist/index.js:1485:16)\n    at Proxy.<anonymous> (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///Users/yangzhang/Desktop/chatDemo/node_modules/chai/index.js:1700:25)\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:187:10\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37"],"meta":{}},{"ancestorTitles":["Message Entity","validation"],"fullName":"Message Entity validation 应该拒绝无效的发送者","status":"failed","title":"应该拒绝无效的发送者","duration":0.266791000000012,"failureMessages":["AssertionError: expected [Function] to throw an error\n    at Proxy.<anonymous> (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/expect/dist/index.js:1485:16)\n    at Proxy.<anonymous> (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///Users/yangzhang/Desktop/chatDemo/node_modules/chai/index.js:1700:25)\n    at /Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts:196:10\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///Users/yangzhang/Desktop/chatDemo/node_modules/@vitest/runner/dist/index.js:1653:37"],"meta":{}}],"startTime":1767768537149,"endTime":1767768537155.2668,"status":"failed","message":"","name":"/Users/yangzhang/Desktop/chatDemo/src/domain/entities/message.test.ts"}]}